@{
    Layout = null;
}
<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <link rel="shortcut icon" href="~/images/fav_icon.png" type="image/png">
    <title>Register</title>

    <style>
        @@import url('https://fonts.googleapis.com/css?family=Fjalla+One&display=swap');
        /* BASE (LIGHT MODE) */
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            min-height: 100vh;
            font-family: 'Fjalla One', sans-serif;
            color: #2A293E;
            display: flex;
            align-items: center;
            justify-content: center;
            background: url('https://s3-us-west-2.amazonaws.com/s.cdpn.io/38816/image-from-rawpixel-id-2210775-jpeg.jpg') center center no-repeat;
            background-size: cover;
            position: relative;
        }

            body::before {
                content: "";
                position: absolute;
                inset: 0;
                background: linear-gradient(120deg, rgba(255,200,255,0.2), rgba(149,164,255,0.2));
                backdrop-filter: blur(3px);
                z-index: 0;
            }

            /* DARK MODE GLOBAL */
            body.dark-mode,
            body.dark-mode html {
                background: radial-gradient(circle at center, #0c1323, #06080f 70%) !important;
                color: #e6e6e6 !important;
            }

                body.dark-mode::before {
                    display: none;
                }

        /* Dark mode toggle button */
        .dark-toggle {
            position: fixed;
            top: 20px;
            right: 30px;
            padding: 8px 18px;
            border-radius: 8px;
            background: #fff;
            color: #000;
            border: 2px solid #000;
            cursor: pointer;
            box-shadow: 3px 3px 0 #b88cff;
            font-size: 14pt;
            z-index: 9999;
        }

        body.dark-mode .dark-toggle {
            background: #2d2f36;
            color: #e8e8e8;
            border-color: #555;
            box-shadow: 3px 3px 0 #4f5bff;
        }

        /* REGISTER BOX – LIGHT MODE */
        .register-box {
            position: relative;
            background: #f8f4e5;
            border: 2px solid #000;
            box-shadow: 10px 10px 0px #ffa580, 10px 10px 0px 1px #000;
            padding: 40px 60px;
            width: 380px;
            text-align: center;
            z-index: 1;
            animation: fadeIn 0.8s ease-out;
            border-radius: 10px;
        }

        h2 {
            margin-bottom: 20px;
            color: #2A293E;
            text-shadow: 1px 1px 0px #ffc8ff;
        }

        input {
            width: 100%;
            padding: 10px;
            margin: 12px 0;
            border: none;
            border-bottom: 4px solid #000;
            background: #f8f4e5;
            font-size: 13pt;
            outline: none;
            transition: border-color 0.3s;
        }

            input:focus {
                border-color: #ffa580;
                box-shadow: 0 3px 8px rgba(255,165,128,0.3);
            }

        button {
            background: linear-gradient(90deg, #ffa580, #95a4ff);
            border: 1px solid #000;
            color: #2A293E;
            padding: 10px 25px;
            font-size: 14pt;
            cursor: pointer;
            transition: all 0.3s;
            width: 100%;
            margin-top: 15px;
            box-shadow: 3px 3px 0px #95a4ff, 3px 3px 0px 1px #000;
        }

            button:hover {
                background: #000;
                color: white;
                transform: translateY(-2px);
            }

        .alt-links {
            margin-top: 20px;
            font-size: 12pt;
        }

            .alt-links a {
                color: #2A293E;
                text-decoration: none;
                border-bottom: 2px solid #ffa580;
                transition: color 0.3s;
            }

                .alt-links a:hover {
                    color: #ffa580;
                }

        /* REGISTER BOX – DARK MODE OVERRIDES */
        body.dark-mode .register-box {
            background: #141623;
            color: #e6e6e6;
            border-color: #000;
            box-shadow: 10px 10px 0px #4f5bff, 10px 10px 0px 1px #000;
        }

        body.dark-mode h2 {
            color: #fff;
            text-shadow: 0 0 10px #95a4ff;
        }

        body.dark-mode input {
            background: #1b1f2e;
            color: #e6e6e6;
            border-bottom-color: #4f5bff;
            box-shadow: none;
        }

            body.dark-mode input:focus {
                border-color: #7b89ff;
                box-shadow: 0 3px 8px rgba(123,137,255,0.3);
            }

        body.dark-mode button {
            background: linear-gradient(90deg, #3a4154, #4d5570);
            color: #fff;
            box-shadow: 3px 3px 0px #4f5bff, 3px 3px 0px 1px #000;
        }

            body.dark-mode button:hover {
                background: #000;
                color: #fff;
            }

        body.dark-mode .alt-links a {
            color: #95a4ff;
            border-bottom-color: #95a4ff;
        }

        @@keyframes fadeIn {
            from

        {
            opacity: 0;
            transform: translateY(20px);
        }

        to {
            opacity: 1;
            transform: translateY(0);
        }

        }
    </style>
</head>
<body>
    <div id="darkModeToggle" class="dark-toggle">🌙 Dark Mode</div>

    <form class="register-box" method="post" asp-action="Register">
        <h2>📝 Register</h2>
        <input type="text" name="username" placeholder="Username" required />
        <input type="email" name="email" placeholder="Email" required />
        <input type="password" name="password" placeholder="Password" required />

        <button type="submit">Create Profile</button>

        @if (ViewBag.Error != null)
        {
            <p style="color:red;margin-top:10px;">@ViewBag.Error</p>
        }

        <div class="alt-links">
            Already have account? <a asp-action="Login" asp-controller="Auth">Sign in</a>
        </div>
    </form>

    <script>
        const toggle = document.getElementById("darkModeToggle");

        function applyDarkModeState() {
            const enabled = localStorage.getItem("darkMode") === "on";

            if (enabled) {
                document.body.classList.add("dark-mode");
                toggle.textContent = "☀️ Light Mode";
            } else {
                document.body.classList.remove("dark-mode");
                toggle.textContent = "🌙 Dark Mode";
            }
        }

        // Initial state
        applyDarkModeState();

        // Toggle
        toggle.onclick = () => {
            const willBeDark = !document.body.classList.contains("dark-mode");
            localStorage.setItem("darkMode", willBeDark ? "on" : "off");
            applyDarkModeState();
        };
    </script>
</body>
</html>
